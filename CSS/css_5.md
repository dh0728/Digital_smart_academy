# 5 CSS 고급 선택자

# 5.1 연결 선택자

### 자식 선택자와 하위 선택자
특정 요소를 기준으로 그 안에 포함된 요소를 하위 요소라고 한다. 그리고 현재 요소를 기준으로 바로 한 단계 아래 요소를 **자식 요소** 라고 하며, 그 자식 요소의 한 단계 아래를 **손자 요소** 라고 한다. <br>

### 하위 선택자
***하위 선택자(descendant selector)** 을 사용하면 부모 요소에 포함된 하위 요소를 모두 선택하며 **자손 선택자** 라고도 한다. 즉 자식 요소뿐만 아니라 손자 요소, 손자의 손자 요소 등 모든 하위요소 까지 적용된다. 하위 선택자는 상위 요소와 하위 요소를 공백으로 구분한다.
#### 하위 선택자 사용 예시
```
<style>
section p {
  color : blue; /* section의 모든 p 하위 요소에 적용 */
}
</style>
.....

<section>
  <h1>방법</h1>
  <p>개발자 취업 하고 싶다.</p>
  <div>
    <p>대기업 가고 싶다.</p>
  </div>
</section>

```

### 자식 선택자
**자식 선택자(child selector)** 은 하위 선택자와 다르게 자식 요소에만 스타일을 적용하는 선택자다 '>'기호로 표시해 부모 요소와 자식 요소를 구분한다. 

#### 자식 선택자 사용 예시
```
<style>
section  > p {
  color : blue; /* section의 자식인 p 요소에만 적용 */
}
</style>
```

### 인접 형제 선택자와 형제 선택자
웹 문서에서 부모 요소가 같을 경우 형제 관계라고 하고, 형제 관계인 요소에서 먼저 나오는 **형 요소** , 나중에 나오는 요소를 **동생 요소** 라고 한다. 

### 인접 형제 선택자
**형제 요소 중에서 첫 번째 동생 요소만 선택** 하는 것을 **인접 형제 선택자(adjacent selector)** 라고 한다. 요소1 과 요소2 사이에 '+' 기호를 표시한다. 요소1과 요소2는 같은 레벨이면서 요소1 이후 가장 먼저 오는 요소2를 선택한다.
#### 인접 형제 선택자 예시
```
<style>
h1 + p {
  background-color: #222;  */ h1 요소의 형제 요소중 첫번째 요소에 적용
  color: #fff;
}
</style>

......

<h1>예약 방법</h1>
<p>아직 온라인 예약..</p>
<p>가족실</p>
<p>도미토리</p>

```

### 형제 선택자
**형제 선택자(sibling selector)** 는 형제 요소의 스타일을 정의하는데 인접 형제 선택자와 달리 모든 형제 요소에 적용된다. '~' 기호로 표기한다.
#### 형제 선택자 예시
```
<style>
h1 ~ p {
  background-color: #222;  */ h1 요소의 형제 요소인 모든 요소에 적용
  color: #fff;
}
</style>

......

<h1>예약 방법</h1>
<p>아직 온라인 예약..</p>
<p>가족실</p>
<p>도미토리</p>

```

# 5.2 속성 선택자

### 특정 속성이 있는 요소를 선택하는 [속성] 선택자
속성값에 따라 원하는 요소를 선택할 수 있는데 이때 사용하는 것이 **[속성] 선택자** 이다. (대괄호[]) 사이에 원하는 속성을 입력한다. 예를 들어 a 요소 중에서 href속성이 있는 요소를 선택하는 것은 아래와 같다.
#### [속성] 선택자 예시
```
a[href]{
  background: yellow;
  border: 1px solid #ccc;
  font-weight: normal;
}
```

### [속성= 속성값] 선택자를 이용해 특정 속성값이 있는 요소 선택하기
**[속성=속성값] 선택자** 는 주어진 속성과 속성값이 일치하는 요소를 찾아 스타일을 지정할 때 사용한다. 대괄호([])안에 속성값을 넣고 그 사이에 '='기호를 표시한다.
#### [속성=속성값]선택자 예시
```
a[target = _blank] {
  padding-right: 30px;
}
/* target 속성값이 _blank인 a 요소를 선택하는 선택자 */
```

### [속성 ~= 값] 선택자를 이용해 여러 값 중에서 특정 속성값이 포함된 속성 요소 선택하기
**[속성 ~=값] 선택자** 여러 속성값 중에서 해당 속성값이 포함된 요소를 선택한다. 이 선택자는 속성이 하나면서 속성값이 여러 개 일 때 특정 속성값을 찾는데 편리하다.
#### [속성 ~=값] 선택자 예시
```
<style>  
  [class ~=button]{
    border-radius ; 5px
  }
</style>

...

<ul>
  <li><a href="#" class="flat">메뉴</a></li>
  <li><a href="#" class="flat">메뉴</a></li>
  <li><a href="#" class="button">메뉴</a></li>
  <li><a href="#" class="flat button">메뉴</a></li>
</ul>
```
[속성 ~=값] 선택자는 값이 정확하게 일치하는 요소를 선택한다. button값과 정확하게 일치하는 요소를 선택한다. flat button 처럼 **다른 글자가 속성값에 포함되어 있으면 선택하지 않는다.**

### 특정 속성값이 포함된 속성 요소를 선택하는 [속성 |= 값] 선택자
**[속성 |= 값] 선택자** 특정 속성값이 포함된 속성에 스타일을 적용한다. 이때 속성값은 한 단어로 일치해야 한다. [속성 ~=값] 선택자와 비슷해 보이지만, [속성 ~=값]선택자는 하이픈(-)으로 연결한 단어에 스타일 적용하지 않는다는 점에서 [속성 |=값]선택자와 차이가 있다. 즉 [속성 |=값]선택자는 지정한 값과 정확하게 일치하거나 지정한 값을 포함해서 하이픈(-)으로 연결된 단어도 선택한다. 예를 들어 title 속성값에 us가 있거나 us-로 연결된 속성값이 있는 a 요소를 찾는다면 다음과 같이 작성한다.
```
a[title |=us]{
  background: url('이미지 경로') no-repeat left center
}
```

### 특정 속성값으로 시작하는 속성 요소를 선택하는 [속성 ^=값]
속성값이 정확하게 일치하지 않더라도 지정한 속성값으로 시작하는 요소를 찾으려면 **[속성 ^=값]선택자** 를 사용한다. 예를 들어 title 속성값이 eng로 시작하는 a 요소를 차는다면 다음과 값이 작성한다.
```
a[title ^=eng] {
  padding: 5px 25px;
}
```
### 특정한 값으로 끝나는 속성 요소를 선택하는 [속성 $=값]
**[속성 $=값]선택자** 는 지정한 속성값으로 끝나는 요스를 선택한다. 예를 들어 href 속성값이 png로 끝나는 요소를 차는다면 다음과 값이 작성한다.
```
a[href $=png] {
  padding: 5px 25px;
}
```
### 일부 속성값이 일치하는 요소를 선택하는 [속성 *=값] 선택자
**[속성 *=값]선택자** 는 속성값이 어느 위치에 있든지 지정한 속성값이 포함되어 있다면 해당 요소를 선택한다. 예를 들어 href 속성값 중에 'w3' 이 포함된 요소를 선택한다면 다음과 같이 작성한다.
```
a[href *=w3]{
  color: white;
}
```

#### 속성 선택자 요약표
<table>
  <thead>
    <tr>
      <th>종류</th>
      <th>선택 요소</th>
      <th>예시</th>
    </tr>
  </thead>
  <tr>
    <td>[속성]</td>
    <td>해당 속성이 있는 요소</td>
    <td>[requried]</td>  
  </tr>
  <tr>
    <td>[속성=값]</td>
    <td>지정한 속성값이 있는 요소</td>
    <td>[target = _blank]</td>  
  </tr>
  <tr>
    <td>[속성 ~=값]</td>
    <td>지정한 속성값이 포함된 요소(단어별)</td>
    <td>[class ~=button]</td>  
  </tr>
  <tr>
    <td>[속성 |=값]</td>
    <td>지정한 속성값이 포함된 요소(하이픈 포함,단어별)</td>
    <td>[title |=us]</td>  
  </tr>
  <tr>
    <td>[속성 ^=값]</td>
    <td>지정한 속성값으로 시작하는 요소</td>
    <td>[title ^=eng]</td>  
  </tr>
  <tr>
    <td>[속성 $=값]</td>
    <td>지정한 속성값으로 끝나는 요소</td>
    <td>[href $=png]</td>  
  </tr>
  <tr>
    <td>[속성 *=값]</td>
    <td>지정한 속성값의 일부가 일치하는 요소</td>
    <td>[href *=w3]</td>  
  </tr>
</table>

# 5.3 가상클래스와 가상요소

## 사용자 동작에 반응하는 가상 클래스
사용자가 웹 요소를 클릭하거나 마우스 포인터를 올려놓는 등 특정 동작을 할 때 스타일이 바뀌도록 할 수 있다.

### 1 :link 가상 클래스 선택자
웹 문서의 링크 중에서 **사용자가 아직 방문하지 않은 링크**에 스타을을 적용한다. 텍스트 링크는 기본적으로 파란색 글자와 밑줄로 표시된다. 이때 링크의 밑줄을 없애거나 색상을 바꾸러면 :link선택자를 사용한다.

### 2 :visted 가상 클래스 선택자 
웹 문서의 링크 중에서 **한 번 이상 방문한 링크**에 스타일을 적용한다. 한 번 이상 방문한 텍스트의 기본값은 보라색이 기본이다. 이때 사용자가 방문한 텍스트 링크와 색상이 달라지지 않게 하려면 :visited 선택자를 사용해 조절한다.

### 3 :hover 가상 클래스 선택자
**웹 요소 위로 마우스 포인터를 올려놓을 때** 스타일을 적용한다. 마우스를 위로 올려놓았을 때 서브메뉴가 나타나는 효과를 만들수 있다.

### 4 :active 가상 클래스 선택자
**웹 요소의 링크나 이미지 등을 활성화했을 때**, 다시말해 **클릭했을 때** 스타일을 지정한다. 

### 5 :active 가상 클래스 선택자
**웹 요소에 초점이 맞추어졌을 때** 스타일을 적용한다. 예를 들어 텍스트 필드 안에 마우스 포인터를 올려 놓거나, 웹 문서에서 tab을 눌러 입력 커서를 이동했을 때 스타일을 지정한다.

앞서 설명한 1~4번의 가상 클래스 선택자는 메뉴 링크에서 자주 사용된다. 이때 다음과 같은 순서로 정의해야 한다. 이 순서가 바뀌면 스타일을 정의하더라도 제대로 적용되지 않는다. LoVe HAte 으로 외우면 쉽단다.

## 요소 상태에 따른 가상 클래스 
웹 사이트나 애플리케이션 화면에서 요소의 상태에 따라 스타일을 적용할 수 있는데, 이때 가상 클래스 선택자를 사용한다.

### :target 가상클래스 선택자 
문서에서 같은 사이트나 다른 사이트의 페이지로 이동할 때에는 링크를 이용하고, 같은 문서안에서 다른 위치로 이동할 때에는 **anchor** 를 이용한다. 이때 **:target 선택자** 를 사용하면 **앵커로 연결된 부분**, 즉 **앵커의 목적지가 되는 부분** 의 스타일을 쉽게 적용할 수 있다. 

### :enabled 와 :disabled 가상 클래스 선택자
**해당 요소가 사용할 수 있는 상태일 때 스타일을 지정**하려면 **:enableed 선택자**를 사용하고, 반대로 **사용할 수 없는 상태일 때 스타일을 지정** 하려면 **:disabled 선택자**를 사용한다. 예를 들어 텍스트 영역 필드(textarea)를 사용해 회원 약관을 보여 줄 때는 사용자가 입력할 수 없도록 disabled 속성을 지정해야 한다.

### :checked 가상 클래스 선택자
폼의 라디오 박스나 체크 박스에서 선택된 항목에는 checked라는 속성이 추가된다. 이렇게 checked 속성이 있는 요소의 스타일을 지정할 때 :checked 선택자를 사용하면 편리하다. 

### :not 가상 클래스 선택자
특정 요소를 제외하고 스타일을 적용할 수 있게 해주는 선택자이다. 여기서 'not'은 '괄호 안에 있는 요소를 제외한'이라는 의미이다.

## 구조 가상 클래스
구조 가장 클래스란 웹 문서의 구조를 기준으로 특정 위치에 있는 요소를 찾아 스타일을 적용할 때 사용하는 가상 클래스 선택자이다. 

### 특정 위치의 자식 요소 선택하기
웹 문서에서 특정 요소에 스타일을 적용하려면 보통 class나 id선택자를 사용한다. 하지만 요소가 여러 개 나열 되어 있을 경우 class나 id를 사용하지 않고도 스타일을 지정할 요소가 몇 번째인지를 따져서 스타일을 적용할 수 있다. 
#### 구조 가상 클래스의 선택자

<table>
  <thead>
    <tr>
      <th>종류</th>
      <th>선택 요소</th>
    </tr>
  </thead>
  <tr>
    <td>:only-child</td>
    <td>부모 안에 자식 요소가 하나뿐일 때 자식 요소를 선택한다.</td>  
  </tr>
  <tr>
    <td>A:only-type-of</td>
    <td>부모 안에 A 요소가 하나뿐일 때 선택한다.</td> 
  </tr>
  <tr>
    <td>:first-child</td>
    <td>부모 안에 있는 모든 요소 중에서 첫 번째 자식 요소를 선택한다.</td>
  </tr>
  <tr>
    <td>:last-child</td>
    <td>부모 안에 있는 모든 요소 중에서 마지막 자식 요소를 선택한다.</td>
  </tr>
  <tr>
    <td>A:first-of-type</td>
    <td>부모 안에 있는 A요소 중에서 첫 번째 요소를 선택한다.</td>
  </tr>
  <tr>
    <td>A:last-of-type</td>
    <td>부모 안에 있는 A요소 중에서 마지막 요소를 선택한다.</td> 
  </tr>
  <tr>
    <td>:nth-child(n)</td>
    <td>부모 안에 있는 모든 요소 중에서 n번째 자식 요소를 선택한다.</td>
  </tr>
  <tr>
    <td>:nth-last-child(n)</td>
    <td>부모 안에 있는 모든 요소 중에서 끝에서 n번쨰 자식 요소를 선택한다.</td>
  </tr>
  <tr>
    <td>A:nth-of-type(n)</td>
    <td>부모 안에 있는 A요소 중에서 n번째 요소를 선택한다.</td>
  </tr>
  <tr>
    <td>A:nth-last-of-type(n)</td>
    <td>부모 안에 있는 A요소 중에서 끝에서 n번째 요소를 선택한다.</td>
  </tr> 
</table>

#### 구조 가상 클래스 선택자 위치 지정 예시
```
*/ div 요소에서 세 번째 자식인 p 요소에 스타일을 적용*/
div p:nth-child

*/ div 요소에서 홀수 번째로 나타나는 자식인 p요소에 스타일을 적용 */
div p:nth-child(odd), div p:nth-child(2n+1)

*/ div 요소에서 짝수 번쨰로 나타나는 자식인 p요소에 스타일 적용 */
div p:nth-child(even), div p:nth-child(2n)
```

## 가상 요소 
가상 클래스 웹 문서의 여러 요소 중에서 원하는 요소를 선택한다면, 가상 요소는 특정 부분에 스타일을 지정하기 위해 가상으로 요소를 만들어 추가한다. 가상 요소를 만들어 사용하는 이우는 특별히 화면에 보이는 부분을 꾸밀 때 불필요한 태그를 사용하지 않도록 하기 위해서이다. 가상 요소는 가상 클래스와 구별하도록 가상 요소 이름 앞에 콜론 2개(::)를 붙여서 표시한다. 

### ::first-line 요소, ::first-letter 요소
::first-line 요소와 ::first-letter 요소를 사용하면 지정한 요소의 **첫 번쨰 줄**이나 **첫 번째 글자**에 스타일을 적용할 수 있다. ::first-letter 요소에 경우 해당 요소의 첫 번쨰 글자는 반드시 첫 번째 줄에 있어야 한다. 

### ::before 요소, ::after 요소
::before 요소와 ::after 요소를 사용하면 지정한 요소의 내용 앞뒤에 스타일을 넣을 수 있다. 이 요소를 사용하면 요소의 앞 뒤에 텍스트나 이미지 등을 추가할 수 있다.



















